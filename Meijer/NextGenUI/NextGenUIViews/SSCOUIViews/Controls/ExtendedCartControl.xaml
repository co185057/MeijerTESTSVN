<Grid
    x:Class="SSCOUIViews.Controls.ExtendedCartControl"
    xmlns:controls="clr-namespace:SSCOControls;assembly=SSCOControls"
    xmlns:helpers="clr-namespace:SSCOUIModels.Helpers;assembly=SSCOUIModels"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:c="clr-namespace:SSCOUIModels.Controls;assembly=SSCOUIModels"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    mc:Ignorable="d"
    xmlns:viewsControls="clr-namespace:SSCOUIViews.Controls"
    Style="{StaticResource cartControlStyle}"
    Name="cartControlBox"    
    DataContextChanged="Grid_DataContextChanged">
    <Grid.Resources>
        <Style
            x:Key="ExtendedCartListItemSelectedStyle"
            TargetType="viewsControls:CartListItem"
            BasedOn="{StaticResource CartListItemSelectedStyle}">
            <Style.Triggers>
                <DataTrigger
                    Binding="{Binding IsSelected, RelativeSource={RelativeSource FindAncestor, AncestorType=ListBoxItem}}"
                    Value="True">
                    <Setter
                        Property="ShowLineNumber"
                        Value="False" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Grid.Resources>
	<!-- SSCOI-47250 -->
    <Grid.RowDefinitions>
        <RowDefinition
            Height="Auto" />
        <RowDefinition
            Height="8*" />
        <RowDefinition
            Height="Auto" />
        <RowDefinition
            Height="Auto" />
    </Grid.RowDefinitions>
	<!-- SSCOI-47250 -->
    <c:SSCOUITouchListBox
        Name="CartReceipt"
		Grid.Row="1"		
        SelectionMode="Single"
        AutoScrollIntoView="Bottom"
        IsSynchronizedWithCurrentItem="False"
        ItemsSource="{Binding CustomerReceipt}"
        Style="{StaticResource cartReceiptStyle}">
        <c:SSCOUITouchListBox.ItemTemplate>
            <DataTemplate>
                <viewsControls:CartListItem
                    NMI="{Binding NMI, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewsControls:ExtendedCartControl}}}"
                    ShowInterventionSection="True"
                    Width="1024"
                    Style="{StaticResource ExtendedCartListItemSelectedStyle}" />
            </DataTemplate>
        </c:SSCOUITouchListBox.ItemTemplate>
        <c:SSCOUITouchListBox.ItemContainerStyle>
            <Style
                    TargetType="ListBoxItem"
                    BasedOn="{StaticResource noMouseOverListBoxItemStyle}">
            </Style>
        </c:SSCOUITouchListBox.ItemContainerStyle>
    </c:SSCOUITouchListBox>
	<!-- SSCOI-47250 -->
    <Rectangle
        Grid.Row="2"
        Style="{StaticResource cartBottomSeparatorStyle}" />
    <!-- Grid Grid.Row="1">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions -->
        <viewsControls:WeightDetails
            x:Name="WeightDetailsPanel"
            Grid.RowSpan="2"
            VerticalAlignment="Bottom"
            Margin="20,0,0,20"
            HorizontalAlignment="Left"
            ScaleInfoAlignment="Left"
            ScaleInfoWidth="375"
            NMI="{Binding NMI, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewsControls:ExtendedCartControl}}}" />
     <Grid
        Grid.Row="2"
        Height="120"
        Name="Reward"
        Style="{StaticResource cartControlTotalAreaStyle}">
            <Grid.RowDefinitions>
                <RowDefinition
                Height="*" />
                <RowDefinition
                Height="*" />
                <RowDefinition
                Height="*" />
                <RowDefinition
                Height="*" />
                <RowDefinition
                Height="*" />
            </Grid.RowDefinitions>
        <controls:MeasureTextBlock
            Name="ExtendedCMText"
	        Margin="10,0,20,0"
            Grid.Row="0"
            Style="{StaticResource pointsAmountEarnedLabelStyle}"
            Text="{Binding CMTotalCMDiscountText}" />
        <controls:PriceTextBlock
            Name="ExtendedCMAmount"
	        Margin="8,0,12,0"
            Grid.Column="1"
            Grid.Row="0"            
            Style="{StaticResource pointsAmountEarnedValueStyle}"
            Text="{Binding CMTotalCMDiscountAmount}"/>
       <controls:MeasureTextBlock
            Name="ExtendedGMText"
	        Margin="10,0,20,0"
            Grid.Row="1"
            Style="{StaticResource pointsAmountEarnedLabelStyle}"
            Text="{Binding CMTotalGMText}" />
       <controls:PriceTextBlock
            Name="ExtendedGMAmount"
	        Margin="8,0,12,0"
            Grid.Column="1"
            Grid.Row="1"
            Style="{StaticResource pointsAmountEarnedValueStyle}"
            Text="{Binding CMTotalGMAmount}"/>
        <controls:MeasureTextBlock
            Name="ExtendedTMDText"
	        Margin="10,0,20,0"
            Grid.Row="2"
            Style="{StaticResource pointsAmountEarnedLabelStyle}"
            Text="{Binding CMTotalTMDiscountText}" />
       <controls:PriceTextBlock
            Name="ExtendedTMDAmount"
	        Margin="8,0,12,0"
            Grid.Column="1"
            Grid.Row="2"
            Style="{StaticResource pointsAmountEarnedValueStyle}"
            Text="{Binding CMTotalTMDiscountAmount}"/>
       <controls:MeasureTextBlock
            Name="ExtendedTaxText"
                Margin="0,0,8,0"
                NMI="{Binding NMI, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewsControls:ExtendedCartControl}}}"
                Style="{StaticResource taxTextStyle}"
            Grid.Row="3"
                Text="{Loc Tax}"
                Visibility="Collapsed" />
            <controls:PriceTextBlock
                Name="ExtendedTaxValue"
                Margin="8,0,12,0"
                NMI="{Binding NMI, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewsControls:ExtendedCartControl}}}"
                Style="{StaticResource taxValueTextStyle}"
            Grid.Row="3"
                Visibility="Collapsed" />
            <controls:MeasureTextBlock
                Name="ExtendedTotalText"
                Margin="8,0,8,0"
            Grid.Row="4"
                NMI="{Binding NMI, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewsControls:ExtendedCartControl}}}"
                Style="{StaticResource totalTextStyle}"
                Text="{Loc Total}" />
            <controls:PriceTextBlock
                Name="ExtendedTotalAmountValue"
                Margin="8,0,12,0"
                DockPanel.Dock="Right"
                Grid.Column="1"
                NMI="{Binding NMI, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewsControls:ExtendedCartControl}}}"
            Grid.Row="4"
                Style="{StaticResource totalValueTextStyle}"/>
        </Grid>
        <DockPanel
            Grid.Row="3"
            Name="Total"
            Margin="0,0,0,8"
            Style="{StaticResource cartControlAreaDueStyle}">
            <controls:MeasureTextBlock
                Name="ExtendedDueAmountText"
                DockPanel.Dock="Top"
                Style="{StaticResource totalTextCustomerModeStyle}"
                NMI="{Binding NMI, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewsControls:ExtendedCartControl}}}"
                Margin="0,0,0,-4"
                Text="{Loc DueCart}" />
            <controls:PriceTextBlock
                Name="ExtendedDueAmountValue"
                DockPanel.Dock="Bottom"
                NMI="{Binding NMI, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type viewsControls:ExtendedCartControl}}}"
                Width="Auto"
                MinWidth="130"
                MaxWidth="260"
                Style="{StaticResource totalAmountCustomerModeStyle}"
                Margin="0,-4,12,0" />
        </DockPanel>
    </Grid>
