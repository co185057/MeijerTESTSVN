<c:BackgroundView
    x:Class="SSCOUIViews.Views.Sale"
    xmlns:controls="clr-namespace:SSCOControls;assembly=SSCOControls"
    xmlns:sgp="clr-namespace:SSCOControls.SlidingGridPageComponents;assembly=SSCOControls"
    xmlns:c="clr-namespace:SSCOUIModels.Controls;assembly=SSCOUIModels"
    xmlns:helpers="clr-namespace:SSCOUIModels.Helpers;assembly=SSCOUIModels"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:viewsControls="clr-namespace:SSCOUIViews.Controls"
    mc:Ignorable="d"
    Loaded="BackgroundView_Loaded">
    <c:View.Resources>
        <helpers:StateToVisibilityConverter
            x:Key="StateToVisibilityConverter" />
        <BooleanToVisibilityConverter
            x:Key="BooleanToVisibilityConverter" />
    </c:View.Resources>
    <Grid
        Margin="0,105,0,0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition
                Width="687" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition
                Height="Auto" />
            <RowDefinition
                Height="Auto" />
            <RowDefinition
                Height="Auto" />
        </Grid.RowDefinitions>

        <Grid.Clip>
            <RectangleGeometry
                Rect="0,0,687,768" />
        </Grid.Clip>

        <Grid
            Name="CardPanel"
            Height="458">
            <c:SSCOUIElementFlow
                Name="FilmstripPanel"
                Visibility="Collapsed"
                ElementWidth="644"
                ElementHeight="458"
                ItemGap="0.25"
                PopoutDistance="0.3"
                Focusable="False"
                IsSynchronizedWithCurrentItem="True">
                <c:SSCOUIElementFlow.Camera>
                    <PerspectiveCamera
                        Position="0,0,1.2"
                        LookDirection="0,0,-1"
                        FieldOfView="70" />
                </c:SSCOUIElementFlow.Camera>
                <c:SSCOUIElementFlow.ItemTemplate>
                    <DataTemplate>
                        <viewsControls:Card
                            NMINumberScale="{DynamicResource CardFilmStripScale}"
                            IsSelectedOnFilmstrip="{Binding IsSelected}" />
                    </DataTemplate>
                </c:SSCOUIElementFlow.ItemTemplate>
            </c:SSCOUIElementFlow>
            <Grid
                Name="SingleCardPanel">
                <viewsControls:Card
                    DataContext="{Binding CustomerReceipt/}" />
            </Grid>
        </Grid>
        <Grid
            Name="NoItemsPanel"
            Width="644"
            Height="458"
            HorizontalAlignment="Center"
            VerticalAlignment="Top"
            Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition
                    Height="184" />
                <RowDefinition
                    Height="*" />
            </Grid.RowDefinitions>
            <Border
                Grid.RowSpan="2"
                Style="{StaticResource glowBorderStyle}" />
            <controls:MeasureTextBlock
                Name="NoItemsPrompt"
                Margin="0,36,0,0"
                Text="{Loc ScanAndBag}"
                Visibility="{Binding ElementName=NoItemsPanel, Path=Visibility}"
                Style="{StaticResource scanAndBagTextStyle}" />
            <controls:MeasureTextBlock
		        Name="SNDNoItemsPrompt"
                Margin="0,36,0,0"
                FontSize="45"
                Text="{Loc ScotApp_9389}"
                Visibility="{Binding ElementName=NoItemsPanel, Path=Visibility}"
                Style="{StaticResource scanAndBagTextStyle}" />
            <Grid
                Grid.Row="1"
                Margin="0,0,0,24"
                Grid.RowSpan="2"
                VerticalAlignment="Bottom">
                <controls:AnimationControl
                    Name="NoItemsContent"
                    Style="{StaticResource can-scanAnimationControlStyle}" />
                <!-- Start CRD 127035 -->
                <controls:AnimationControl
                    Name="SS90NoItemsContent"
                    Style="{StaticResource can-scanItemAnimationControlStyle}" />
                <!-- End CRD 127035 -->
                <controls:AnimationControl
                    Name="QuickPickNoItemsContent"
                    Visibility="Collapsed"
                    Style="{StaticResource quickPickcan-scanAnimationControlStyle}" />

                <controls:MeasureTextBlock
                    Name="SDNLeadthruText"
                    Style="{StaticResource SNDCenterNameStyle}"
                    Text="{Loc ScotApp_9390}"
                    Margin="0,0,0,140"
                    Visibility="Collapsed"
                    VerticalAlignment="Top"
                    HorizontalAlignment="Center"
                    TextAlignment="Center"
                    FontSize="26"
                    Width="640" />
                <controls:ImageButton
                    Name="SNDYesButton"
                    Style="{StaticResource SNDGreenButtonStyle}"
                    Command="{Binding ActionCommand}"
                    CommandParameter="SNDYesScanAndBag"
                    Grid.Row="2"
                    Grid.Column="3"
                    Text="{Loc Yes}"
                    Width="175"
                    Height="44"
                    Margin="135,80,0,0"
                    Visibility="Collapsed"
                    HorizontalAlignment="Left" />
                <controls:ImageButton
                    Name="SNDNoButton"
                    Style="{StaticResource SNDRedButtonStyle}"
                    Command="{Binding ActionCommand}"
                    CommandParameter="SNDNoScanAndBag"
                    Text="{Loc No}"
                    Grid.Row="2"
                    Grid.Column="2"
                    Width="175"
                    Height="44"
                    Margin="165,80,0,0"
                    Visibility="Collapsed"
                    Grid.ColumnSpan="2" />
            </Grid>
            <Grid
                Grid.Row="1"
                Name="CardMessagePanel"
                VerticalAlignment="Bottom"
                Visibility="Collapsed">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition
                        Width="235" />
                    <ColumnDefinition
                        Width="409" />
                </Grid.ColumnDefinitions>
                <Grid
                    Grid.Column="1">
                    <viewsControls:CardMessage
                        x:Name="CardMessage" />
                </Grid>
            </Grid>
        </Grid>

        <Grid
            Name="EnterCouponsPanel"
            Width="644"
            Height="482"
            Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition
                    Width="322" />
                <ColumnDefinition
                    Width="322" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition
                    Height="120" />
                <RowDefinition
                    Height="250" />
                <RowDefinition
                    Height="112" />
            </Grid.RowDefinitions>
            <Border
                Grid.RowSpan="3"
                Grid.ColumnSpan="2"
                Style="{StaticResource glowBorderStyle}"
                Width="644"
                Height="482" />
            <controls:MeasureTextBlock
                Grid.Row="0"
                Grid.ColumnSpan="2"
                Name="LeadthruText"
                Text="{Loc ScanCoupon}"
                Margin="24,24,0,0"
                Style="{StaticResource tenderTextStyle}"
                Height="92" />
            <controls:MeasureTextBlock
                Grid.Row="1"
                Grid.Column="0"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Center"              
                Margin="34,0,0,0"
                Text="{Binding ScanBagTextArea}"
                Style="{StaticResource loyaltyTextStyle}"
                Visibility="{Binding StateParam, Converter={StaticResource StateToVisibilityConverter}, ConverterParameter='EnterCoupons'}"
                Width="250" />
            <controls:AnimationControl
                Grid.Row="1"
                Grid.Column="1"
                Style="{StaticResource scanCardPaymentAnimationControlStyle}"
                Visibility="{Binding BackgroundStateParam, Converter={StaticResource StateToVisibilityConverter}, ConverterParameter='EnterCoupons'}"
                Width="250"
                Margin="0,0,24,0" />
            <StackPanel
                Orientation="Horizontal"
                Margin="24,0,24,24"
                Grid.Row="2"
                Grid.ColumnSpan="2"
                Height="56"
                Width="536"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Center"
                Visibility="{Binding BackgroundStateParam, Converter={StaticResource StateToVisibilityConverter}, ConverterParameter='EnterCoupons'}">
                <controls:ImageButton
                    Name="Continue"
                    Command="{Binding ActionCommand}"
                    CommandParameter="CannotScanCoupon"
                    Width="258"
                    Height="56"
                    Margin="0,0,10,0"
                    Style="{StaticResource enterCouponButtonStyle}"
                    Visibility="Visible"
                    Text="{Loc CantScanCoupon}" />
                <controls:ImageButton
                    Name="CancelCoupon"
                    Click="CancelCoupon_Click"
                    Width="258"
                    Height="56"
                    Style="{StaticResource enterCouponButtonStyle}"
                    Margin="10,0,0,0"
                    Visibility="Visible"
                    Text="{Loc CancelCoupons}" />
            </StackPanel>
        </Grid>

        <!-- Scan Item status container-->
        <Grid
            Name="scanItemStatus"
            Grid.Row="1"
            Margin="20,2,20,0"
            Width="644"
            Style="{StaticResource statusContainerStyle}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition
                    Width="Auto" />
                <ColumnDefinition
                    Width="2*" />
                <ColumnDefinition
                    Width="*" />
                <ColumnDefinition
                    Width="4*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition
                    Height="12" />
                <RowDefinition
                    Height="57" />
            </Grid.RowDefinitions>
            <Rectangle
                Grid.ColumnSpan="4"
                Style="{StaticResource trilightInterventionRectangleStyle}" />
            <Border
                Name="ScanItemBorder"
                Grid.Row="1"
                Grid.ColumnSpan="4"
                Style="{StaticResource glowBorderStyle}" />
            <controls:MeasureTextBlock
                Name="ScanItemTextBlock"
                Grid.Column="0"
                Grid.Row="1"
                Height="52"
                MaxWidth="300"
                Style="{StaticResource statusTextStyle}"
                Text="{Loc ScanNextItem}"
                Grid.ColumnSpan="3"
                Margin="16,10,0,0"
                Visibility="Visible" />            
            <controls:ImageButton
                Name="scanItemSearchKeyInItem"
                Grid.Column="2"
                Grid.Row="1"
                Margin="92,6,10,7"
                Command="{Binding ActionCommand}"
                CommandParameter="SearchKeyInItem"
                Style="{StaticResource searchScanButtonStyle}"
                Text="{Loc SearchKeyInItem}"
                MaxWidth="360"
                Height="44"
                Grid.ColumnSpan="2"
                HorizontalAlignment="Stretch" />
        </Grid>
        <!--SkipBagging status container -->
        <Grid
            Name="skipBagging"
            Grid.Row="1"
            Margin="20,12,20,0"
            Style="{StaticResource statusContainerStyle}"
            Width="644"
            Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition
                    Width="*" />
                <ColumnDefinition
                    Width="3*" />
                <ColumnDefinition
                    Width="2*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition
                    Height="12" />
                <RowDefinition
                    Height="68" />
            </Grid.RowDefinitions>
            <Rectangle
                Grid.ColumnSpan="3"
                Style="{StaticResource trilightInterventionRectangleStyle}" />
            <controls:MeasureTextBlock
                Name="skipBaggingText"
                Grid.Column="0"
                Grid.Row="1"
                Grid.ColumnSpan="2"
                Margin="0,0,0,0"
                Style="{StaticResource statusTextStyle}" />
            <controls:ImageButton
                Name="skipBaggingButton"
                Grid.Column="2"
                Grid.Row="1"
                Margin="10,0,12,0"
                Command="{Binding ActionCommand}"
                CommandParameter="SkipBagging"
                Style="{StaticResource skipBaggingButtonStyle}"
                Text="{Loc SkipBagging}"
                MinWidth="182"
                MinHeight="44"
                MaxHeight="50"
                MaxWidth="200" />
        </Grid>
        <!--QuickPick list items -->
        <Grid
            Name="QuickPickListPanel"
            Grid.Row="2"
            Margin="-28,0,20,0"
            Width="647"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Height="150"
            Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition
                    Width="660" />
                <ColumnDefinition
                    Width="0" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition
                    Height="35" />
                <RowDefinition
                    Height="114" />
            </Grid.RowDefinitions>
            <sgp:PageIndicator
                x:Name="pageIndicator"
                Height="20"
                Style="{StaticResource pageIndicatorStyle}" />
            <StackPanel
                Grid.Row="2"
                Orientation="Horizontal"
                Margin="2,0,0,10"
                Width="550"
                Height="114">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition
                            Width="96" />
                        <ColumnDefinition
                            Width="96" />
                        <ColumnDefinition
                            Width="96" />
                        <ColumnDefinition
                            Width="96" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition
                            Height="114" />
                    </Grid.RowDefinitions>
                    <controls:ImageButton
                        Name="MPerksScanAndBagButton"
                        Style="{StaticResource mPerksButtonStyle}"
                        Command="{Binding ActionCommand}"
                        CommandParameter="MPerksScanAndBag"
                        HorizontalAlignment="Center"
                        Text="{Binding MPerksScanAndBagText}"
                        Grid.Column="0"
                        Grid.Row="0"
                        Width="96"
                        Height="114" />
                    <controls:ImageButton
                        Name="WICEBTScanAndBagButton"
                        Grid.Column="1"
                        Grid.Row="0"
                        Margin="6,0,0,0"
                        HorizontalAlignment="Center"
                        Style="{StaticResource MeijerEBTButtonStyle}"
                        Command="{Binding ActionCommand}"
                        CommandParameter="WicEbtScanAndBag"
                        Text="{Loc ScotApp_9372}"
                        Width="96"
                        Height="114" />
                    <controls:ImageButton
                        Name="PrintGiftReceiptButton"
                        Grid.Row="0"
                        Grid.Column="2"
                        Margin="6,0,0,0"
                        HorizontalAlignment="Center"
                        Style="{StaticResource MeijerPrintGiftReceiptButtonStyle}"
                        Command="{Binding ActionCommand}"
                        CommandParameter="PrintGiftReceipt"
                        Width="96"
                        Height="114"
                        Text="{Loc ScotApp_9050}" />
                    <controls:ImageButton
                        Name="OwnBagButton"
                        Grid.Row="0"
                        Grid.Column="3"
                        Margin="6,0,0,0"
                        Style="{StaticResource MeijerOwnBagButtonStyle}"
                        Command="{Binding ActionCommand}"
                        Text="{Loc ScotApp_9374}"
                        CommandParameter="OwnBag"
                        Width="96"
                        Height="114" />
                </Grid>
            </StackPanel>            
            <DockPanel
                Name="FuelLotteryPanel"
                Grid.Column="1"
                Grid.Row="2"
                HorizontalAlignment="Right">
                <controls:ImageButton
                    Name="FuelImageButton"
                    TouchDown="FuelImageButton_TouchDown"
                    FontSize="20"
                    Width="97"
                    Margin="0,0,8,0"
                    Height="114">
                    <controls:ImageButton.Style>
                        <Style
                            TargetType="ImageButton"
                            BasedOn="{StaticResource fuelButtonStyle}">
                            <Setter
                                Property="Visibility"
                                Value="Collapsed" />
                            <Style.Triggers>
                                <DataTrigger
                                    Binding="{Binding NextGenUIFuelDemoEnabled}"
                                    Value="-1">
                                    <Setter
                                        Property="Visibility"
                                        Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </controls:ImageButton.Style>
                </controls:ImageButton>
                <controls:ImageButton
                    Name="LotteryImageButton"
                    TouchDown="LotteryImageButton_TouchDown"
                    FontSize="20"
                    Width="97"
                    Height="114">
                    <controls:ImageButton.Style>
                        <Style
                            TargetType="ImageButton"
                            BasedOn="{StaticResource lotteryButtonStyle}">
                            <Setter
                                Property="Visibility"
                                Value="Collapsed" />
                            <Style.Triggers>
                                <DataTrigger
                                    Binding="{Binding NextGenUILottoDemoEnabled}"
                                    Value="-1">
                                    <Setter
                                        Property="Visibility"
                                        Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </controls:ImageButton.Style>
                </controls:ImageButton>
            </DockPanel>
        </Grid>
    </Grid>
</c:BackgroundView>
